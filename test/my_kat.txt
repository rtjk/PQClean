============================= test session starts ==============================
platform linux -- Python 3.11.2, pytest-8.1.1, pluggy-1.4.0
rootdir: /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/test
configfile: pytest.ini
plugins: xdist-3.5.0
created: 4/4 workers
4 workers [36 items]

FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF                                     [100%]
=================================== FAILURES ===================================
________ test_nistkat[clean implementation of cross-rsdpg-256-balanced] ________
[gw0] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-256-balanced, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG'
init = <function isolate_test_files.<locals>.initializer at 0x7ffaecf5e0c0>
destr = <function isolate_test_files.<locals>.destructor at 0x7ffaecf5e480>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'mnb' == '0f15ab5044b3...2cf261ab86a2f'
E         
E         - 0f15ab5044b3a232d53069819d1d61bfa13562084777c18b3e72cf261ab86a2f
E         + mnb

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/test > make TYPE=sign SCHEME=cross-rsdpg-256-balanced IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-256-balanced_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-256-balanced_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG256BALANCED_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/bin/nistkat_cross-rsdpg-256-balanced_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/crypto_bla/scheme/impl -lcross-rsdpg-256-balanced_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__R4hWikEG/bin/nistkat_cross-rsdpg-256-balanced_clean
_________ test_nistkat[clean implementation of cross-rsdpg-192-small] __________
[gw3] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-192-small, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2'
init = <function isolate_test_files.<locals>.initializer at 0x7fbe5b16e480>
destr = <function isolate_test_files.<locals>.destructor at 0x7fbe5b16e520>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'bnm' == '0d30f7c5bb81...580923d3ae5d0'
E         
E         - 0d30f7c5bb81251ee466973ad1d2691dfb83beaa8afbdebe9dd580923d3ae5d0
E         + bnm

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/test > make TYPE=sign SCHEME=cross-rsdpg-192-small IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-192-small_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-192-small_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG192SMALL_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/bin/nistkat_cross-rsdpg-192-small_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/crypto_bla/scheme/impl -lcross-rsdpg-192-small_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__dJ4V4dM2/bin/nistkat_cross-rsdpg-192-small_clean
__________ test_nistkat[clean implementation of cross-rsdp-192-fast] ___________
[gw1] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-192-fast, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8'
init = <function isolate_test_files.<locals>.initializer at 0x7f50c29763e0>
destr = <function isolate_test_files.<locals>.destructor at 0x7f50c2976700>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'tyu' == '5c22c2da9e54...351c2e8f46442'
E         
E         - 5c22c2da9e54fe975c2ebd59cbe2921c45143e440546d694714351c2e8f46442
E         + tyu

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/test > make TYPE=sign SCHEME=cross-rsdp-192-fast IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-192-fast_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-192-fast_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP192FAST_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/bin/nistkat_cross-rsdp-192-fast_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/crypto_bla/scheme/impl -lcross-rsdp-192-fast_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__ETSxzVd8/bin/nistkat_cross-rsdp-192-fast_clean
__________ test_nistkat[clean implementation of cross-rsdp-192-small] __________
[gw2] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-192-small, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass'
init = <function isolate_test_files.<locals>.initializer at 0x7f6fe7dbfce0>
destr = <function isolate_test_files.<locals>.destructor at 0x7f6fe7bf22a0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'yui' == 'da919e5ed4f4...ebcdb97e66772'
E         
E         - da919e5ed4f4a1bd7b460638be3b9df8182f7a5e0dc16f32949ebcdb97e66772
E         + yui

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/test > make TYPE=sign SCHEME=cross-rsdp-192-small IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-192-small_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-192-small_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP192SMALL_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/bin/nistkat_cross-rsdp-192-small_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/crypto_bla/scheme/impl -lcross-rsdp-192-small_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__8wlO7ass/bin/nistkat_cross-rsdp-192-small_clean
__________ test_nistkat[avx2 implementation of cross-rsdpg-192-small] __________
[gw3] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-192-small, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU'
init = <function isolate_test_files.<locals>.initializer at 0x7fbe5b16e5c0>
destr = <function isolate_test_files.<locals>.destructor at 0x7fbe5b16e660>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'bnm' == '0d30f7c5bb81...580923d3ae5d0'
E         
E         - 0d30f7c5bb81251ee466973ad1d2691dfb83beaa8afbdebe9dd580923d3ae5d0
E         + bnm

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/test > make TYPE=sign SCHEME=cross-rsdpg-192-small IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-192-small_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-192-small_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG192SMALL_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/bin/nistkat_cross-rsdpg-192-small_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/crypto_bla/scheme/impl -lcross-rsdpg-192-small_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OflUkyqU/bin/nistkat_cross-rsdpg-192-small_avx2
___________ test_nistkat[avx2 implementation of cross-rsdp-192-fast] ___________
[gw1] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-192-fast, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j'
init = <function isolate_test_files.<locals>.initializer at 0x7f50c2976160>
destr = <function isolate_test_files.<locals>.destructor at 0x7f50c2bdbd80>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'tyu' == '5c22c2da9e54...351c2e8f46442'
E         
E         - 5c22c2da9e54fe975c2ebd59cbe2921c45143e440546d694714351c2e8f46442
E         + tyu

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/test > make TYPE=sign SCHEME=cross-rsdp-192-fast IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-192-fast_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-192-fast_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP192FAST_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/bin/nistkat_cross-rsdp-192-fast_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/crypto_bla/scheme/impl -lcross-rsdp-192-fast_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__r9slFG8j/bin/nistkat_cross-rsdp-192-fast_avx2
________ test_nistkat[avx2 implementation of cross-rsdpg-256-balanced] _________
[gw0] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-256-balanced, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7'
init = <function isolate_test_files.<locals>.initializer at 0x7ffaecf5e340>
destr = <function isolate_test_files.<locals>.destructor at 0x7ffaecf5df80>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'mnb' == '0f15ab5044b3...2cf261ab86a2f'
E         
E         - 0f15ab5044b3a232d53069819d1d61bfa13562084777c18b3e72cf261ab86a2f
E         + mnb

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/test > make TYPE=sign SCHEME=cross-rsdpg-256-balanced IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-256-balanced_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-256-balanced_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG256BALANCED_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/bin/nistkat_cross-rsdpg-256-balanced_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/crypto_bla/scheme/impl -lcross-rsdpg-256-balanced_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest___SxQU2h7/bin/nistkat_cross-rsdpg-256-balanced_avx2
__________ test_nistkat[avx2 implementation of cross-rsdp-192-small] ___________
[gw2] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-192-small, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ'
init = <function isolate_test_files.<locals>.initializer at 0x7f6fe7bf2340>
destr = <function isolate_test_files.<locals>.destructor at 0x7f6fe7bf23e0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'yui' == 'da919e5ed4f4...ebcdb97e66772'
E         
E         - da919e5ed4f4a1bd7b460638be3b9df8182f7a5e0dc16f32949ebcdb97e66772
E         + yui

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/test > make TYPE=sign SCHEME=cross-rsdp-192-small IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-192-small_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-192-small_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP192SMALL_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/bin/nistkat_cross-rsdp-192-small_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/crypto_bla/scheme/impl -lcross-rsdp-192-small_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uj0fhZWJ/bin/nistkat_cross-rsdp-192-small_avx2
________ test_nistkat[clean implementation of cross-rsdp-256-balanced] _________
[gw3] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-256-balanced, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0'
init = <function isolate_test_files.<locals>.initializer at 0x7fbe5b16e980>
destr = <function isolate_test_files.<locals>.destructor at 0x7fbe5b16ea20>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'uio' == 'f76d5c76b285...2f4b855e9fa27'
E         
E         - f76d5c76b285b0aa923284f98c1e6e5bcb8a3119d8e677fbfea2f4b855e9fa27
E         + uio

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/test > make TYPE=sign SCHEME=cross-rsdp-256-balanced IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-256-balanced_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-256-balanced_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP256BALANCED_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/bin/nistkat_cross-rsdp-256-balanced_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/crypto_bla/scheme/impl -lcross-rsdp-256-balanced_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__KqYPUsI0/bin/nistkat_cross-rsdp-256-balanced_clean
________ test_nistkat[clean implementation of cross-rsdpg-128-balanced] ________
[gw1] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-128-balanced, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q'
init = <function isolate_test_files.<locals>.initializer at 0x7f50c2a16c00>
destr = <function isolate_test_files.<locals>.destructor at 0x7f50c2a16ca0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'lzx' == 'f1ebf700c39e...50fd96202a50e'
E         
E         - f1ebf700c39e84da903b513fc7b2455d03008b14b3e8c713de450fd96202a50e
E         + lzx

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/test > make TYPE=sign SCHEME=cross-rsdpg-128-balanced IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-128-balanced_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-128-balanced_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG128BALANCED_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/bin/nistkat_cross-rsdpg-128-balanced_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/crypto_bla/scheme/impl -lcross-rsdpg-128-balanced_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__OnJdXB1Q/bin/nistkat_cross-rsdpg-128-balanced_clean
__________ test_nistkat[clean implementation of cross-rsdp-128-small] __________
[gw0] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-128-small, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo'
init = <function isolate_test_files.<locals>.initializer at 0x7ffaecffe700>
destr = <function isolate_test_files.<locals>.destructor at 0x7ffaecffe7a0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'ert' == 'f5413ecd480f...05e285846ed49'
E         
E         - f5413ecd480f02f6bd4ea149b6303752ed46557d03ca93efb7305e285846ed49
E         + ert

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/test > make TYPE=sign SCHEME=cross-rsdp-128-small IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-128-small_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-128-small_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP128SMALL_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/bin/nistkat_cross-rsdp-128-small_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/crypto_bla/scheme/impl -lcross-rsdp-128-small_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4UL0NJvo/bin/nistkat_cross-rsdp-128-small_clean
__________ test_nistkat[clean implementation of cross-rsdp-128-fast] ___________
[gw2] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-128-fast, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t'
init = <function isolate_test_files.<locals>.initializer at 0x7f6fe7bf2e80>
destr = <function isolate_test_files.<locals>.destructor at 0x7f6fe7bf2f20>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'wer' == '2f83ba2b950e...a92cfc44cd05d'
E         
E         - 2f83ba2b950e3690ee84457ac9b4f8e4dcc92ba6c8306f2a096a92cfc44cd05d
E         + wer

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/test > make TYPE=sign SCHEME=cross-rsdp-128-fast IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-128-fast_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-128-fast_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP128FAST_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/bin/nistkat_cross-rsdp-128-fast_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/crypto_bla/scheme/impl -lcross-rsdp-128-fast_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__w69fPl1t/bin/nistkat_cross-rsdp-128-fast_clean
__________ test_nistkat[avx2 implementation of cross-rsdp-128-small] ___________
[gw0] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-128-small, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti'
init = <function isolate_test_files.<locals>.initializer at 0x7ffaecffe840>
destr = <function isolate_test_files.<locals>.destructor at 0x7ffaecffe8e0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'ert' == 'f5413ecd480f...05e285846ed49'
E         
E         - f5413ecd480f02f6bd4ea149b6303752ed46557d03ca93efb7305e285846ed49
E         + ert

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/test > make TYPE=sign SCHEME=cross-rsdp-128-small IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-128-small_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-128-small_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP128SMALL_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/bin/nistkat_cross-rsdp-128-small_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/crypto_bla/scheme/impl -lcross-rsdp-128-small_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__a2wHotti/bin/nistkat_cross-rsdp-128-small_avx2
________ test_nistkat[avx2 implementation of cross-rsdpg-128-balanced] _________
[gw1] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-128-balanced, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww'
init = <function isolate_test_files.<locals>.initializer at 0x7f50c2a16d40>
destr = <function isolate_test_files.<locals>.destructor at 0x7f50c2a16de0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'lzx' == 'f1ebf700c39e...50fd96202a50e'
E         
E         - f1ebf700c39e84da903b513fc7b2455d03008b14b3e8c713de450fd96202a50e
E         + lzx

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/test > make TYPE=sign SCHEME=cross-rsdpg-128-balanced IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-128-balanced_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-128-balanced_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG128BALANCED_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/bin/nistkat_cross-rsdpg-128-balanced_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/crypto_bla/scheme/impl -lcross-rsdpg-128-balanced_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__lXkt45Ww/bin/nistkat_cross-rsdpg-128-balanced_avx2
___________ test_nistkat[avx2 implementation of cross-rsdp-128-fast] ___________
[gw2] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-128-fast, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl'
init = <function isolate_test_files.<locals>.initializer at 0x7f6fe7bf2fc0>
destr = <function isolate_test_files.<locals>.destructor at 0x7f6fe7bf3060>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'wer' == '2f83ba2b950e...a92cfc44cd05d'
E         
E         - 2f83ba2b950e3690ee84457ac9b4f8e4dcc92ba6c8306f2a096a92cfc44cd05d
E         + wer

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/test > make TYPE=sign SCHEME=cross-rsdp-128-fast IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-128-fast_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-128-fast_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP128FAST_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/bin/nistkat_cross-rsdp-128-fast_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/crypto_bla/scheme/impl -lcross-rsdp-128-fast_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__fiyV3ZJl/bin/nistkat_cross-rsdp-128-fast_avx2
_________ test_nistkat[avx2 implementation of cross-rsdp-256-balanced] _________
[gw3] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-256-balanced, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b'
init = <function isolate_test_files.<locals>.initializer at 0x7fbe5b16eac0>
destr = <function isolate_test_files.<locals>.destructor at 0x7fbe5b16eb60>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'uio' == 'f76d5c76b285...2f4b855e9fa27'
E         
E         - f76d5c76b285b0aa923284f98c1e6e5bcb8a3119d8e677fbfea2f4b855e9fa27
E         + uio

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/test > make TYPE=sign SCHEME=cross-rsdp-256-balanced IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-256-balanced_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-256-balanced_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP256BALANCED_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/bin/nistkat_cross-rsdp-256-balanced_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/crypto_bla/scheme/impl -lcross-rsdp-256-balanced_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Lp71jM4b/bin/nistkat_cross-rsdp-256-balanced_avx2
__________ test_nistkat[clean implementation of cross-rsdp-256-fast] ___________
[gw0] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-256-fast, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9'
init = <function isolate_test_files.<locals>.initializer at 0x7ffaecfff380>
destr = <function isolate_test_files.<locals>.destructor at 0x7ffaecfff420>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'iop' == '96141b55b061...1e343d6a0f52e'
E         
E         - 96141b55b061b32300296593cc5caa116ec5a4f6c0a3a1119031e343d6a0f52e
E         + iop

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/test > make TYPE=sign SCHEME=cross-rsdp-256-fast IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-256-fast_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-256-fast_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP256FAST_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/bin/nistkat_cross-rsdp-256-fast_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/crypto_bla/scheme/impl -lcross-rsdp-256-fast_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Uv8N2Gv9/bin/nistkat_cross-rsdp-256-fast_clean
__________ test_nistkat[avx2 implementation of cross-rsdpg-256-small] __________
[gw1] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-256-small, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn'
init = <function isolate_test_files.<locals>.initializer at 0x7f50c2a17240>
destr = <function isolate_test_files.<locals>.destructor at 0x7f50c2a172e0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'bvc' == '55ef76e57c7b...54b7d2885ed43'
E         
E         - 55ef76e57c7b2b0c7fa6c665b1173761afba86db2bc02852db154b7d2885ed43
E         + bvc

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/test > make TYPE=sign SCHEME=cross-rsdpg-256-small IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-256-small_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-256-small_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG256SMALL_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/bin/nistkat_cross-rsdpg-256-small_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/crypto_bla/scheme/impl -lcross-rsdpg-256-small_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__tYhOv6Dn/bin/nistkat_cross-rsdpg-256-small_avx2
_________ test_nistkat[clean implementation of cross-rsdpg-256-small] __________
[gw3] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-256-small, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ'
init = <function isolate_test_files.<locals>.initializer at 0x7fbe5b16f100>
destr = <function isolate_test_files.<locals>.destructor at 0x7fbe5b16f1a0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'bvc' == '55ef76e57c7b...54b7d2885ed43'
E         
E         - 55ef76e57c7b2b0c7fa6c665b1173761afba86db2bc02852db154b7d2885ed43
E         + bvc

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/test > make TYPE=sign SCHEME=cross-rsdpg-256-small IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-256-small_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-256-small_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG256SMALL_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/bin/nistkat_cross-rsdpg-256-small_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/crypto_bla/scheme/impl -lcross-rsdpg-256-small_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__aVXQX1PZ/bin/nistkat_cross-rsdpg-256-small_clean
___________ test_nistkat[avx2 implementation of cross-rsdp-256-fast] ___________
[gw2] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-256-fast, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC'
init = <function isolate_test_files.<locals>.initializer at 0x7f6fe7bf34c0>
destr = <function isolate_test_files.<locals>.destructor at 0x7f6fe7bf3560>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'iop' == '96141b55b061...1e343d6a0f52e'
E         
E         - 96141b55b061b32300296593cc5caa116ec5a4f6c0a3a1119031e343d6a0f52e
E         + iop

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/test > make TYPE=sign SCHEME=cross-rsdp-256-fast IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-256-fast_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-256-fast_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP256FAST_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/bin/nistkat_cross-rsdp-256-fast_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/crypto_bla/scheme/impl -lcross-rsdp-256-fast_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__4ZuBAdXC/bin/nistkat_cross-rsdp-256-fast_avx2
________ test_nistkat[clean implementation of cross-rsdp-128-balanced] _________
[gw0] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-128-balanced, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ'
init = <function isolate_test_files.<locals>.initializer at 0x7ffaecfff600>
destr = <function isolate_test_files.<locals>.destructor at 0x7ffaecfff6a0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'qwe' == '370376963a45...4dd82bfaf4f59'
E         
E         - 370376963a45486d7fc1ec09133ba49b95cad959951aa978ecf4dd82bfaf4f59
E         + qwe

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/test > make TYPE=sign SCHEME=cross-rsdp-128-balanced IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-128-balanced_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-128-balanced_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP128BALANCED_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/bin/nistkat_cross-rsdp-128-balanced_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/crypto_bla/scheme/impl -lcross-rsdp-128-balanced_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__g1FD1wNJ/bin/nistkat_cross-rsdp-128-balanced_clean
_________ test_nistkat[avx2 implementation of cross-rsdp-128-balanced] _________
[gw1] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-128-balanced, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET'
init = <function isolate_test_files.<locals>.initializer at 0x7f50c2a17740>
destr = <function isolate_test_files.<locals>.destructor at 0x7f50c2a177e0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'qwe' == '370376963a45...4dd82bfaf4f59'
E         
E         - 370376963a45486d7fc1ec09133ba49b95cad959951aa978ecf4dd82bfaf4f59
E         + qwe

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/test > make TYPE=sign SCHEME=cross-rsdp-128-balanced IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-128-balanced_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-128-balanced_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP128BALANCED_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/bin/nistkat_cross-rsdp-128-balanced_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/crypto_bla/scheme/impl -lcross-rsdp-128-balanced_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__47Ni0CET/bin/nistkat_cross-rsdp-128-balanced_avx2
__________ test_nistkat[clean implementation of cross-rsdpg-256-fast] __________
[gw2] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-256-fast, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK'
init = <function isolate_test_files.<locals>.initializer at 0x7f6fe7bf3880>
destr = <function isolate_test_files.<locals>.destructor at 0x7f6fe7bf3920>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'nbv' == '1aa83013bad8...a2d244c9a0f85'
E         
E         - 1aa83013bad860b40a4680299ff5c8cd794aad6578e4c4929a5a2d244c9a0f85
E         + nbv

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/test > make TYPE=sign SCHEME=cross-rsdpg-256-fast IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-256-fast_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-256-fast_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG256FAST_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/bin/nistkat_cross-rsdpg-256-fast_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/crypto_bla/scheme/impl -lcross-rsdpg-256-fast_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__s59_10eK/bin/nistkat_cross-rsdpg-256-fast_clean
__________ test_nistkat[avx2 implementation of cross-rsdpg-256-fast] ___________
[gw3] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-256-fast, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX'
init = <function isolate_test_files.<locals>.initializer at 0x7fbe5b16f9c0>
destr = <function isolate_test_files.<locals>.destructor at 0x7fbe5b16fa60>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'nbv' == '1aa83013bad8...a2d244c9a0f85'
E         
E         - 1aa83013bad860b40a4680299ff5c8cd794aad6578e4c4929a5a2d244c9a0f85
E         + nbv

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/test > make TYPE=sign SCHEME=cross-rsdpg-256-fast IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-256-fast_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-256-fast_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG256FAST_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/bin/nistkat_cross-rsdpg-256-fast_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/crypto_bla/scheme/impl -lcross-rsdpg-256-fast_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__zq3WyjhX/bin/nistkat_cross-rsdpg-256-fast_avx2
__________ test_nistkat[clean implementation of cross-rsdpg-192-fast] __________
[gw0] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-192-fast, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6'
init = <function isolate_test_files.<locals>.initializer at 0x7ffaecfffb00>
destr = <function isolate_test_files.<locals>.destructor at 0x7ffaecfffba0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'vbn' == '9c51b9856e51...0fab5f193fc95'
E         
E         - 9c51b9856e5102048264de43b9793f6d9126a28f8e258a9bb200fab5f193fc95
E         + vbn

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/test > make TYPE=sign SCHEME=cross-rsdpg-192-fast IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-192-fast_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-192-fast_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG192FAST_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/bin/nistkat_cross-rsdpg-192-fast_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/crypto_bla/scheme/impl -lcross-rsdpg-192-fast_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__uxI5JXR6/bin/nistkat_cross-rsdpg-192-fast_clean
__________ test_nistkat[avx2 implementation of cross-rsdpg-192-fast] ___________
[gw1] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-192-fast, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7'
init = <function isolate_test_files.<locals>.initializer at 0x7f50c2a17c40>
destr = <function isolate_test_files.<locals>.destructor at 0x7f50c2a17ce0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'vbn' == '9c51b9856e51...0fab5f193fc95'
E         
E         - 9c51b9856e5102048264de43b9793f6d9126a28f8e258a9bb200fab5f193fc95
E         + vbn

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/test > make TYPE=sign SCHEME=cross-rsdpg-192-fast IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-192-fast_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-192-fast_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG192FAST_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/bin/nistkat_cross-rsdpg-192-fast_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/crypto_bla/scheme/impl -lcross-rsdpg-192-fast_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__2BVg1fh7/bin/nistkat_cross-rsdpg-192-fast_avx2
_________ test_nistkat[avx2 implementation of cross-rsdp-192-balanced] _________
[gw2] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-192-balanced, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW'
init = <function isolate_test_files.<locals>.initializer at 0x7f6fe7bf3ec0>
destr = <function isolate_test_files.<locals>.destructor at 0x7f6fe7bf3f60>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'rty' == 'bde2ae2d2df0...d0daa311a47d4'
E         
E         - bde2ae2d2df0d6a689ff518f851616eeb397516413ce02321c5d0daa311a47d4
E         + rty

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/test > make TYPE=sign SCHEME=cross-rsdp-192-balanced IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-192-balanced_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-192-balanced_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP192BALANCED_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/bin/nistkat_cross-rsdp-192-balanced_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/crypto_bla/scheme/impl -lcross-rsdp-192-balanced_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__DlqoxveW/bin/nistkat_cross-rsdp-192-balanced_avx2
________ test_nistkat[clean implementation of cross-rsdp-192-balanced] _________
[gw3] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-192-balanced, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb'
init = <function isolate_test_files.<locals>.initializer at 0x7fbe5b16fd80>
destr = <function isolate_test_files.<locals>.destructor at 0x7fbe5b16fe20>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'rty' == 'bde2ae2d2df0...d0daa311a47d4'
E         
E         - bde2ae2d2df0d6a689ff518f851616eeb397516413ce02321c5d0daa311a47d4
E         + rty

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/test > make TYPE=sign SCHEME=cross-rsdp-192-balanced IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-192-balanced_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-192-balanced_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP192BALANCED_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/bin/nistkat_cross-rsdp-192-balanced_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/crypto_bla/scheme/impl -lcross-rsdp-192-balanced_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Hvg5Ggvb/bin/nistkat_cross-rsdp-192-balanced_clean
_________ test_nistkat[clean implementation of cross-rsdpg-128-small] __________
[gw0] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-128-small, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp'
init = <function isolate_test_files.<locals>.initializer at 0x7ffaecda0040>
destr = <function isolate_test_files.<locals>.destructor at 0x7ffaecda00e0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'xcv' == '1ad0ad813804...2a65c224c1028'
E         
E         - 1ad0ad8138042035f02a38fa69fb10c991dc047b7a14f8144bf2a65c224c1028
E         + xcv

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/test > make TYPE=sign SCHEME=cross-rsdpg-128-small IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-128-small_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-128-small_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG128SMALL_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/bin/nistkat_cross-rsdpg-128-small_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/crypto_bla/scheme/impl -lcross-rsdpg-128-small_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__wdBYGnPp/bin/nistkat_cross-rsdpg-128-small_clean
__________ test_nistkat[clean implementation of cross-rsdpg-128-fast] __________
[gw2] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-128-fast, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt'
init = <function isolate_test_files.<locals>.initializer at 0x7f6fe79902c0>
destr = <function isolate_test_files.<locals>.destructor at 0x7f6fe7990360>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'zxc' == '9b5c81d03be6...7b9d697adf4fb'
E         
E         - 9b5c81d03be6b1d06d862694c5ee08f5fd4ccb2fcdec646cadb7b9d697adf4fb
E         + zxc

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/test > make TYPE=sign SCHEME=cross-rsdpg-128-fast IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-128-fast_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-128-fast_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG128FAST_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/bin/nistkat_cross-rsdpg-128-fast_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/crypto_bla/scheme/impl -lcross-rsdpg-128-fast_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__6scBO6Xt/bin/nistkat_cross-rsdpg-128-fast_clean
__________ test_nistkat[avx2 implementation of cross-rsdpg-128-small] __________
[gw1] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-128-small, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV'
init = <function isolate_test_files.<locals>.initializer at 0x7f50c27bc180>
destr = <function isolate_test_files.<locals>.destructor at 0x7f50c27bc220>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'xcv' == '1ad0ad813804...2a65c224c1028'
E         
E         - 1ad0ad8138042035f02a38fa69fb10c991dc047b7a14f8144bf2a65c224c1028
E         + xcv

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/test > make TYPE=sign SCHEME=cross-rsdpg-128-small IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-128-small_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-128-small_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG128SMALL_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/bin/nistkat_cross-rsdpg-128-small_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/crypto_bla/scheme/impl -lcross-rsdpg-128-small_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__PgLqcECV/bin/nistkat_cross-rsdpg-128-small_avx2
__________ test_nistkat[avx2 implementation of cross-rsdpg-128-fast] ___________
[gw3] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-128-fast, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd'
init = <function isolate_test_files.<locals>.initializer at 0x7fbe5b188400>
destr = <function isolate_test_files.<locals>.destructor at 0x7fbe5b1884a0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'zxc' == '9b5c81d03be6...7b9d697adf4fb'
E         
E         - 9b5c81d03be6b1d06d862694c5ee08f5fd4ccb2fcdec646cadb7b9d697adf4fb
E         + zxc

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/test > make TYPE=sign SCHEME=cross-rsdpg-128-fast IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-128-fast_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-128-fast_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG128FAST_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/bin/nistkat_cross-rsdpg-128-fast_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/crypto_bla/scheme/impl -lcross-rsdpg-128-fast_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__agetuwOd/bin/nistkat_cross-rsdpg-128-fast_avx2
__________ test_nistkat[clean implementation of cross-rsdp-256-small] __________
[gw0] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-256-small, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg'
init = <function isolate_test_files.<locals>.initializer at 0x7ffaecda0540>
destr = <function isolate_test_files.<locals>.destructor at 0x7ffaecda05e0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'opa' == '79d581fcd979...7b0b76ce1eb2a'
E         
E         - 79d581fcd9797c0f1ad7b0fd6816437e85851ac6d77e4c7f9a07b0b76ce1eb2a
E         + opa

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/test > make TYPE=sign SCHEME=cross-rsdp-256-small IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-256-small_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-256-small_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP256SMALL_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/bin/nistkat_cross-rsdp-256-small_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/crypto_bla/scheme/impl -lcross-rsdp-256-small_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__y4bpeoRg/bin/nistkat_cross-rsdp-256-small_clean
________ test_nistkat[clean implementation of cross-rsdpg-192-balanced] ________
[gw2] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-192-balanced, clean)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU'
init = <function isolate_test_files.<locals>.initializer at 0x7f6fe79907c0>
destr = <function isolate_test_files.<locals>.destructor at 0x7f6fe7990860>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'cvb' == 'c86a888478ba...4be1b6ec1f938'
E         
E         - c86a888478ba5e273b703afa59f31189349fab764cc26e7a29b4be1b6ec1f938
E         + cvb

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/test > make TYPE=sign SCHEME=cross-rsdpg-192-balanced IMPLEMENTATION=clean SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-192-balanced_clean.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-192-balanced_clean.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG192BALANCED_CLEAN -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/bin/nistkat_cross-rsdpg-192-balanced_clean -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/crypto_bla/scheme/impl -lcross-rsdpg-192-balanced_clean

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__Tr5nO9XU/bin/nistkat_cross-rsdpg-192-balanced_clean
__________ test_nistkat[avx2 implementation of cross-rsdp-256-small] ___________
[gw1] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdp-256-small, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs'
init = <function isolate_test_files.<locals>.initializer at 0x7f50c27bc680>
destr = <function isolate_test_files.<locals>.destructor at 0x7f50c27bc720>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'opa' == '79d581fcd979...7b0b76ce1eb2a'
E         
E         - 79d581fcd9797c0f1ad7b0fd6816437e85851ac6d77e4c7f9a07b0b76ce1eb2a
E         + opa

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/test > make TYPE=sign SCHEME=cross-rsdp-256-small IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdp-256-small_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdp-256-small_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDP256SMALL_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/bin/nistkat_cross-rsdp-256-small_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/crypto_bla/scheme/impl -lcross-rsdp-256-small_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__UHIQkGWs/bin/nistkat_cross-rsdp-256-small_avx2
________ test_nistkat[avx2 implementation of cross-rsdpg-192-balanced] _________
[gw3] linux -- Python 3.11.2 /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/.venv/bin/python

implementation = <Implementation(cross-rsdpg-192-balanced, avx2)>
impl_path = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/crypto_bla/scheme/impl'
test_dir = '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN'
init = <function isolate_test_files.<locals>.initializer at 0x7fbe5b188900>
destr = <function isolate_test_files.<locals>.destructor at 0x7fbe5b1889a0>

    @pytest.mark.parametrize(
        'implementation,test_dir,impl_path, init, destr',
        [(impl, *helpers.isolate_test_files(impl.path(), 'test_functest_'))
         for impl in pqclean.Scheme.all_supported_implementations()],
        ids=[str(impl) for impl in pqclean.Scheme.all_supported_implementations()],
    )
    @helpers.filtered_test
    def test_nistkat(implementation, impl_path, test_dir, init, destr):
        if platform.machine() == 'armv7l' and 'gcc' in os.environ.get('CC', 'gcc') and 'falcon' in implementation.scheme.name:
            raise unittest.SkipTest("this test hangs for falcon on armv7l with gcc")
        init()
        dest_path = os.path.join(test_dir, 'bin')
        kat_rng = 'nist'
        if 'nistkat-rng' in implementation.scheme.metadata():
            kat_rng = implementation.scheme.metadata()['nistkat-rng']
        helpers.make('nistkat',
                     TYPE=implementation.scheme.type,
                     SCHEME=implementation.scheme.name,
                     IMPLEMENTATION=implementation.name,
                     SCHEME_DIR=impl_path,
                     DEST_DIR=dest_path,
                     KAT_RNG=kat_rng,
                     working_dir=os.path.join(test_dir, 'test'))
        out = helpers.run_subprocess(
            [os.path.join(dest_path, 'nistkat_{}_{}{}'.format(
                implementation.scheme.name,
                implementation.name,
                '.exe' if os.name == 'nt' else ''
            ))],
            print_output=False,
        ).replace('\r', '')
>       assert(implementation.scheme.metadata()['nistkat-sha256'].lower()
               == hashlib.sha256(out.encode('utf-8')).hexdigest().lower())
E       AssertionError: assert 'cvb' == 'c86a888478ba...4be1b6ec1f938'
E         
E         - c86a888478ba5e273b703afa59f31189349fab764cc26e7a29b4be1b6ec1f938
E         + cvb

test_nistkat.py:53: AssertionError
----------------------------- Captured stdout call -----------------------------
/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/test > make TYPE=sign SCHEME=cross-rsdpg-192-balanced IMPLEMENTATION=avx2 SCHEME_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/crypto_bla/scheme/impl DEST_DIR=/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/bin KAT_RNG=nist nistkat
cd /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/crypto_bla/scheme/impl && make
make[1]: Entering directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/crypto_bla/scheme/impl'
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o CROSS.o CROSS.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o csprng_hash.o csprng_hash.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o merkle.o merkle.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o pack_unpack.o pack_unpack.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o seedtree.o seedtree.c
cc -std=c99 -I../../../common  -march=native -O3 -g3 -std=c99 -Wpedantic -Werror -Wredundant-decls -Wmissing-prototypes -Wuninitialized -Wall -Wextra -c -o sign.o sign.c
ar -r libcross-rsdpg-192-balanced_avx2.a CROSS.o csprng_hash.o merkle.o pack_unpack.o seedtree.o sign.o
ar: creating libcross-rsdpg-192-balanced_avx2.a
make[1]: Leaving directory '/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/crypto_bla/scheme/impl'
mkdir -p /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/bin
cc -O3 -Wall -Wextra -Wpedantic -Wvla -Werror -std=c99 -Wundef -Wshadow -Wcast-align -Wpointer-arith -Wmissing-prototypes -fstrict-aliasing -fno-common -pipe -I../common  -DPQCLEAN_NAMESPACE=PQCLEAN_CROSSRSDPG192BALANCED_AVX2 -I/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/crypto_bla/scheme/impl crypto_sign/nistkat.c ../common/aes.c ../common/sha2.c ../common/fips202.c ../common/nistseedexpander.c ../common/sp800-185.c ../test/common/nistkatrng.c -o /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/bin/nistkat_cross-rsdpg-192-balanced_avx2 -L/home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/crypto_bla/scheme/impl -lcross-rsdpg-192-balanced_avx2

. > /home/marcoxps/Documents/tesi/pqc/fork_pqclean/3-tidy/PQClean/testcases/test_functest__MPx003UN/bin/nistkat_cross-rsdpg-192-balanced_avx2
=========================== short test summary info ============================
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdpg-256-balanced]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdpg-192-small]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdp-192-fast]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdp-192-small]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdpg-192-small]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdp-192-fast]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdpg-256-balanced]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdp-192-small]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdp-256-balanced]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdpg-128-balanced]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdp-128-small]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdp-128-fast]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdp-128-small]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdpg-128-balanced]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdp-128-fast]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdp-256-balanced]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdp-256-fast]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdpg-256-small]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdpg-256-small]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdp-256-fast]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdp-128-balanced]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdp-128-balanced]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdpg-256-fast]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdpg-256-fast]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdpg-192-fast]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdpg-192-fast]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdp-192-balanced]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdp-192-balanced]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdpg-128-small]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdpg-128-fast]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdpg-128-small]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdpg-128-fast]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdp-256-small]
FAILED test_nistkat.py::test_nistkat[clean implementation of cross-rsdpg-192-balanced]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdp-256-small]
FAILED test_nistkat.py::test_nistkat[avx2 implementation of cross-rsdpg-192-balanced]
======================== 36 failed in 198.80s (0:03:18) ========================
